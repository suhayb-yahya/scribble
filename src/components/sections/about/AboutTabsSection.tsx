"use client";

import { useState } from "react";
import { Rubik } from "next/font/google";
import { getTranslations, type Locale } from "@/lib/translations";

const rubik = Rubik({ weight: ["400", "600"], subsets: ["latin", "arabic"] });

const tabIds = ["story", "vision", "mission"] as const;

export default function AboutTabsSection({ locale }: { locale: Locale }) {
  const t = getTranslations(locale);
  const tabs = [
    { id: "story" as const, label: t.about.tabs.ourStory },
    { id: "vision" as const, label: t.about.tabs.ourVision },
    { id: "mission" as const, label: t.about.tabs.ourMission },
  ];
  const tabContent = t.about.tabContent;
  const [activeTab, setActiveTab] = useState<(typeof tabIds)[number]>("story");

  return (
    <section
      className="py-16 md:py-24 px-6 md:px-10 bg-white"
      aria-label="Our story, vision, and mission"
    >
      <div className="max-w-6xl mx-auto">
        {/* Tab navigation: line runs through the indicator boxes */}
        <div className="relative">
          <div className="flex flex-wrap gap-8 md:gap-12 items-end">
            {tabs.map((tab) => {
              const isActive = activeTab === tab.id;
              return (
                <button
                  key={tab.id}
                  type="button"
                  onClick={() => setActiveTab(tab.id)}
                  className={`${rubik.className} flex flex-col items-center uppercase tracking-wide transition-colors pb-0 hover:opacity-90 ${
                    isActive ? "text-[#469098]" : "text-[#7B2553]"
                  }`}
                  style={{
                    fontSize: "32px",
                    fontWeight: 600,
                    lineHeight: "normal",
                  }}
                  aria-selected={isActive}
                  role="tab"
                >
                  {tab.label}
                  {/* Tab indicator: SVG pill centered under the label */}
                  <span className="block mt-1 relative z-10 flex justify-center" aria-hidden>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="84"
                      height="17"
                      viewBox="0 0 84 17"
                      fill="none"
                      className="block"
                    >
                      <path
                        d="M74.804 0H8.36C3.7429 0 0 3.74288 0 8.35999V8.36096C0 12.9781 3.7429 16.7209 8.36 16.7209H74.804C79.4211 16.7209 83.164 12.9781 83.164 8.36096V8.35999C83.164 3.74288 79.4211 0 74.804 0Z"
                        fill={isActive ? "#469098" : "#7B2553"}
                      />
                    </svg>
                  </span>
                </button>
              );
            })}
          </div>
          {/* Baseline: runs through the tab indicator boxes */}
          <div
            className="absolute left-0 right-0 h-px bg-gray-300 z-0"
            style={{ bottom: "8px" }}
            aria-hidden
          />
        </div>

        {/* Content + CREATIVE block */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center pt-[120px]">
          <div role="tabpanel" aria-labelledby={`tab-${activeTab}`}>
            <div className="space-y-6">
              {tabContent[activeTab].map((paragraph, i) => (
                <p
                  key={i}
                  className={rubik.className}
                  style={{
                    color: "#19140F",
                    fontSize: "24px",
                    fontWeight: 400,
                    lineHeight: "normal",
                  }}
                >
                  {paragraph}
                </p>
              ))}
            </div>
          </div>

          <div className="flex justify-center lg:justify-end order-first lg:order-none">
            <svg
              className="w-full max-w-[436px] h-auto select-none"
              viewBox="0 0 436 66"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden
            >
              <path d="M27.479 65.5121C21.777 65.5121 16.938 64.556 12.966 62.646C8.992 60.735 5.91396 57.946 3.73096 54.275C1.54696 50.605 0.333003 46.131 0.0910034 40.854C0.0290034 38.368 0 35.699 0 32.847C0 29.995 0.0290034 27.2661 0.0910034 24.6581C0.332003 19.4421 1.561 14.999 3.776 11.328C5.99 7.659 9.09897 4.85299 13.103 2.91199C17.106 0.970987 21.897 0 27.479 0C31.542 0 35.243 0.516997 38.58 1.547C41.915 2.579 44.797 4.06498 47.224 6.00598C49.65 7.94698 51.531 10.2231 52.866 12.8301C54.2 15.4381 54.928 18.3511 55.05 21.5641C55.05 22.1101 54.853 22.5651 54.459 22.9291C54.063 23.2921 53.595 23.475 53.049 23.475H42.676C41.947 23.475 41.37 23.2921 40.947 22.9291C40.521 22.5651 40.187 21.959 39.946 21.109C39.036 17.531 37.519 15.074 35.396 13.739C33.272 12.406 30.633 11.7371 27.48 11.7371C23.718 11.7371 20.747 12.7691 18.563 14.8311C16.379 16.8941 15.197 20.322 15.014 25.113C14.832 30.088 14.832 35.183 15.014 40.399C15.197 45.192 16.379 48.62 18.563 50.681C20.747 52.743 23.718 53.774 27.48 53.774C30.633 53.774 33.288 53.0921 35.442 51.7271C37.594 50.362 39.095 47.9211 39.946 44.4031C40.187 43.4931 40.521 42.8721 40.947 42.5381C41.37 42.2051 41.947 42.037 42.676 42.037H53.049C53.595 42.037 54.064 42.219 54.459 42.583C54.853 42.947 55.05 43.402 55.05 43.948C54.928 47.164 54.2 50.075 52.866 52.682C51.531 55.291 49.65 57.566 47.224 59.506C44.797 61.448 41.915 62.934 38.58 63.965C35.243 64.995 31.543 65.5121 27.479 65.5121Z" fill="url(#creative-paint0_linear_1_121)" />
              <path d="M67.514 64.6021C66.846 64.6021 66.3 64.39 65.876 63.965C65.451 63.541 65.239 62.995 65.239 62.327V3.18298C65.239 2.51598 65.451 1.97004 65.876 1.54504C66.301 1.12004 66.846 0.908081 67.514 0.908081H91.626C99.208 0.908081 105.184 2.65204 109.551 6.13904C113.918 9.62804 116.103 14.647 116.103 21.198C116.103 25.627 115.041 29.328 112.917 32.3C110.793 35.273 107.943 37.486 104.364 38.942L117.194 61.6891C117.376 62.0531 117.466 62.3871 117.466 62.6901C117.466 63.1761 117.284 63.616 116.92 64.009C116.556 64.405 116.102 64.6011 115.556 64.6011H105.455C104.363 64.6011 103.545 64.3141 102.999 63.7371C102.453 63.1611 102.058 62.631 101.815 62.144L90.714 41.308H79.704V62.327C79.704 62.995 79.491 63.541 79.067 63.965C78.643 64.389 78.096 64.6021 77.429 64.6021H67.511H67.514ZM79.706 29.7531H91.352C94.688 29.7531 97.1609 28.995 98.7679 27.478C100.374 25.962 101.179 23.838 101.179 21.109C101.179 18.38 100.39 16.227 98.814 14.649C97.236 13.072 94.749 12.2831 91.352 12.2831H79.706V29.7531Z" fill="url(#creative-paint1_linear_1_121)" />
              <path d="M129.568 64.6021C128.9 64.6021 128.354 64.39 127.93 63.965C127.505 63.541 127.293 62.995 127.293 62.327V3.18298C127.293 2.51598 127.505 1.97004 127.93 1.54504C128.355 1.12004 128.9 0.908081 129.568 0.908081H170.787C171.453 0.908081 171.999 1.12104 172.425 1.54504C172.848 1.97004 173.062 2.51598 173.062 3.18298V10.462C173.062 11.069 172.848 11.585 172.425 12.009C171.999 12.434 171.453 12.646 170.787 12.646H141.306V26.931H168.785C169.452 26.931 169.998 27.145 170.423 27.569C170.847 27.994 171.06 28.54 171.06 29.207V35.9391C171.06 36.5461 170.847 37.0631 170.423 37.4861C169.998 37.9121 169.452 38.124 168.785 38.124H141.306V52.864H171.515C172.182 52.864 172.728 53.077 173.153 53.501C173.577 53.926 173.79 54.472 173.79 55.139V62.327C173.79 62.995 173.577 63.541 173.153 63.965C172.729 64.389 172.182 64.6021 171.515 64.6021H129.568Z" fill="url(#creative-paint2_linear_1_121)" />
              <path d="M180.886 64.6021C180.34 64.6021 179.885 64.406 179.521 64.01C179.157 63.616 178.975 63.177 178.975 62.691C178.975 62.388 179.005 62.116 179.066 61.873L200.721 3.36707C200.904 2.70007 201.267 2.12406 201.814 1.63806C202.36 1.15406 203.118 0.910034 204.088 0.910034H215.734C216.704 0.910034 217.463 1.15306 218.008 1.63806C218.554 2.12406 218.918 2.70007 219.1 3.36707L240.756 61.873C240.816 62.116 240.847 62.389 240.847 62.691C240.847 63.177 240.664 63.617 240.301 64.01C239.937 64.406 239.482 64.6021 238.936 64.6021H229.473C228.563 64.6021 227.895 64.39 227.471 63.965C227.046 63.541 226.774 63.146 226.653 62.782L222.74 52.5911H197.082L193.169 62.782C193.047 63.145 192.773 63.541 192.351 63.965C191.925 64.39 191.258 64.6021 190.349 64.6021H180.886ZM200.448 40.854H219.283L209.911 14.649L200.448 40.854Z" fill="url(#creative-paint3_linear_1_121)" />
              <path d="M258.408 64.6021C257.74 64.6021 257.194 64.39 256.77 63.965C256.344 63.541 256.132 62.995 256.132 62.327V13.556H239.572C238.965 13.556 238.449 13.3441 238.025 12.9191C237.6 12.4951 237.388 11.9791 237.388 11.3721V3.18298C237.388 2.51598 237.6 1.97004 238.025 1.54504C238.45 1.12004 238.964 0.908081 239.572 0.908081H287.251C287.917 0.908081 288.463 1.12104 288.889 1.54504C289.313 1.97004 289.526 2.51598 289.526 3.18298V11.3721C289.526 11.9781 289.313 12.4951 288.889 12.9191C288.463 13.3441 287.917 13.556 287.251 13.556H270.781V62.327C270.781 62.995 270.568 63.541 270.144 63.965C269.72 64.389 269.173 64.6021 268.506 64.6021H258.406H258.408Z" fill="url(#creative-paint4_linear_1_121)" />
              <path d="M300.535 64.6021C299.867 64.6021 299.321 64.39 298.897 63.965C298.472 63.541 298.26 62.995 298.26 62.327V3.18298C298.26 2.51598 298.472 1.97004 298.897 1.54504C299.322 1.12004 299.867 0.908081 300.535 0.908081H310.817C311.483 0.908081 312.03 1.12104 312.455 1.54504C312.879 1.97004 313.092 2.51598 313.092 3.18298V62.327C313.092 62.995 312.879 63.541 312.455 63.965C312.031 64.389 311.483 64.6021 310.817 64.6021H300.535Z" fill="url(#creative-paint5_linear_1_121)" />
              <path d="M344.937 64.6021C343.965 64.6021 343.192 64.344 342.617 63.829C342.04 63.314 341.631 62.691 341.388 61.964L322.281 3.64001C322.219 3.33701 322.189 3.06404 322.189 2.82104C322.189 2.33704 322.372 1.89708 322.736 1.50208C323.099 1.10808 323.554 0.911011 324.1 0.911011H333.654C334.564 0.911011 335.276 1.17008 335.793 1.68408C336.308 2.20008 336.626 2.66999 336.748 3.09399L350.942 47.588L365.046 3.09399C365.228 2.66999 365.561 2.19908 366.047 1.68408C366.531 1.16908 367.23 0.911011 368.14 0.911011H377.694C378.24 0.911011 378.695 1.10808 379.059 1.50208C379.422 1.89808 379.605 2.33704 379.605 2.82104C379.605 3.06404 379.574 3.33801 379.514 3.64001L360.406 61.964C360.224 62.692 359.844 63.315 359.269 63.829C358.691 64.345 357.888 64.6021 356.857 64.6021H344.937Z" fill="url(#creative-paint6_linear_1_121)" />
              <path d="M390.977 64.6021C390.309 64.6021 389.763 64.39 389.339 63.965C388.914 63.541 388.702 62.995 388.702 62.327V3.18298C388.702 2.51598 388.914 1.97004 389.339 1.54504C389.764 1.12004 390.309 0.908081 390.977 0.908081H432.196C432.862 0.908081 433.408 1.12104 433.834 1.54504C434.257 1.97004 434.471 2.51598 434.471 3.18298V10.462C434.471 11.069 434.257 11.585 433.834 12.009C433.408 12.434 432.862 12.646 432.196 12.646H402.715V26.931H430.194C430.861 26.931 431.407 27.145 431.832 27.569C432.256 27.994 432.469 28.54 432.469 29.207V35.9391C432.469 36.5461 432.256 37.0631 431.832 37.4861C431.407 37.9121 430.861 38.124 430.194 38.124H402.715V52.864H432.924C433.591 52.864 434.137 53.077 434.562 53.501C434.986 53.926 435.199 54.472 435.199 55.139V62.327C435.199 62.995 434.986 63.541 434.562 63.965C434.138 64.389 433.591 64.6021 432.924 64.6021H390.977Z" fill="url(#creative-paint7_linear_1_121)" />
              <defs>
                <linearGradient id="creative-paint0_linear_1_121" x1="-5.344" y1="45.3331" x2="465.932" y2="51.789" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint1_linear_1_121" x1="-5.34412" y1="45.3331" x2="465.932" y2="51.7891" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint2_linear_1_121" x1="-5.34406" y1="45.3331" x2="465.932" y2="51.7891" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint3_linear_1_121" x1="-5.34428" y1="45.333" x2="465.932" y2="51.7891" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint4_linear_1_121" x1="-5.34372" y1="45.3331" x2="465.932" y2="51.789" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint5_linear_1_121" x1="-5.34466" y1="45.3331" x2="465.932" y2="51.7891" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint6_linear_1_121" x1="-5.34338" y1="45.333" x2="465.932" y2="51.789" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
                <linearGradient id="creative-paint7_linear_1_121" x1="-5.34357" y1="45.3331" x2="465.932" y2="51.7891" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#D17F64" />
                  <stop offset="0.971" stopColor="#469098" />
                </linearGradient>
              </defs>
            </svg>
          </div>
        </div>
      </div>
    </section>
  );
}
